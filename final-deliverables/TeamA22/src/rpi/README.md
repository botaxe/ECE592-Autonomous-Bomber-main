# Autonomous Bomber - Raspberry Pi End

This code is run on the raspberry pi and connects directly to the autopilot. This code detects a blue tarp on the floor and autonomously drops a bomb on it.

## Dependencies

Use the package manager [pip](https://pip.pypa.io/en/stable/) to install all the dependencies on the Raspberry Pi. You don't need to pip install the libraries that come with the standard library. This is an exhaustive list all library requirements on the Raspberry Pi end.
- socket (version 1.0.0)
- pickle-mixin (version 1.0.2)
- os (standard library)
- keyboard (version 0.13.5)
- time (standard library)
- jsonlib (version 1.6.1)
- scipy (version 1.8.0)
- matplotlib (version 3.5.1)
- dronekit (version 2.9.2)
- pymavlink (version 2.4.29)
- python-math (version 0.0.1)
- psutil (version 5.9.0)
- copy (standard library)
- numpy (version 1.22.3)
- argparse (version 1.4.0)
- gpiozero (version 1.6.2)

Example
```bash
pip install scipy=1.8.0
```

Install MavProxy using this link: https://ardupilot.org/mavproxy/docs/getting_started/download_and_installation.html
## Usage
Run only the pi.py file from the command line. All other files are helper files. The pi.py file takes the following command line arguments:
```bash
python pi.py --connect [connection string] --gcs_ip [gcs ip address] --gcs_port [gcs port] --rpi_ip [rpi ip address]  --rpi_port [rpi port]
```
All command line arguments have default values. Make sure to run the file from the directory it's in. MavProxy must be running for this application to connect to the autopilot
```bash
mavproxy.py --out=udp:127.0.0.1:1000 --out=udp:[GCS IP ADDR]:[DESIGNATED PORT] --out=udp:[GCS IP ADDR]:[DESIGNATED PORT]
```

## Files
#### pi.py
Main script for communicating with the drone. Run this file only.
#### copter.py
This script defines the copter object along with all of the copter methods.
#### detection.py
This script has code for our target detection.
#### header.py
This script ties in all of the files with the main pi.py file. This file also has all the required imports.
#### recon.waypoints
File generated by MissionPlanner. Holds the waypoints for our recon grid flight.

## Authors
Ayush Luthra

Alex Wheelis

Kishan Joshi

Harrison Tseng
